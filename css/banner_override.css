/* === 전복 서버: 텍스처(텍스트) 배너 전용 === */
/* 기존 히어로 배너/로고/배너이미지 의존 코드는 제거하고 이 파일만 유지합니다. */

:root{
  --accent: #00e5ff; /* 강조 색상 (원하면 여기만 변경) */
}

.main-banner{
  width:100%;
  height:150px;
  margin:0;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:hidden;

  /* 그림/사진 없이: 딥블루 그라데이션 (기본 바탕) */
  background: linear-gradient(135deg, #061621 0%, #0b2a3f 55%, #071923 100%);
}

/* 아주 미세한 텍스처(노이즈/그레인) 느낌: CSS 패턴 */
.main-banner::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;

  /* 미세 텍스처(그레인) */
  opacity:.18;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(255,255,255,.11) 0px,
      rgba(255,255,255,.11) 1px,
      rgba(0,0,0,0) 2px,
      rgba(0,0,0,0) 7px
    );
  mix-blend-mode: overlay;
}

/* 부드럽게 움직이는 슬라이드(임팩트): 라이트가 천천히 흐르는 느낌 */
.main-banner::after{
  content:"";
  position:absolute;
  inset:-35% -20%;
  pointer-events:none;
  opacity:.40;

  background:
    radial-gradient(circle at 30% 45%, rgba(0,229,255,.22), transparent 52%),
    radial-gradient(circle at 70% 55%, rgba(255,255,255,.10), transparent 56%),
    linear-gradient(90deg, rgba(0,229,255,.10), rgba(0,0,0,0), rgba(0,229,255,.10));
  mix-blend-mode: screen;
  filter: blur(2px);

  animation: bannerSlide 10s ease-in-out infinite alternate;
}

@keyframes bannerSlide{
  0%   { transform: translateX(-6%) translateY(-2%); }
  50%  { transform: translateX(4%)  translateY(1%); }
  100% { transform: translateX(10%) translateY(-1%); }
}

/* 텍스처 문구: "전 복 서 버" — 서서히 보이는(페이드) 형식 */
.banner-text{
  position:relative;
  z-index:1;
  font-weight:900;
  font-size:34px;
  letter-spacing:14px;
  line-height:1;
  margin:0;

  /* ✅ 배경과 확실히 분리되는 '찐한' 강조 텍스처 */
  color:transparent;
  background:
    linear-gradient(to bottom, rgba(0,229,255,1), rgba(255,255,255,.30)),
    repeating-linear-gradient(
      90deg,
      rgba(0,229,255,.55) 0px,
      rgba(0,229,255,.55) 2px,
      rgba(255,255,255,.18) 4px,
      rgba(255,255,255,.18) 10px
    );
  background-size: 200% 100%;
  background-position: 0% 0%;
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;

  /* ✅ 서서히 보였다가(리빌) 은은하게 사라지는 마스크 애니메이션 */
  -webkit-mask-image:
    linear-gradient(to right, transparent 0%, #000 18%, #000 82%, transparent 100%),
    linear-gradient(to bottom, transparent 0%, #000 55%, transparent 100%);
  -webkit-mask-size: 220% 100%, 100% 220%;
  -webkit-mask-position: 0% 0%, 0% 0%;
  -webkit-mask-repeat: no-repeat;

  mask-image:
    linear-gradient(to right, transparent 0%, #000 18%, #000 82%, transparent 100%),
    linear-gradient(to bottom, transparent 0%, #000 55%, transparent 100%);
  mask-size: 220% 100%, 100% 220%;
  mask-position: 0% 0%, 0% 0%;
  mask-repeat: no-repeat;

  /* 가독성 강화 */
  opacity:1;
  text-shadow:
    0 1px 0 rgba(0,0,0,.45),
    0 10px 26px rgba(0,0,0,.45);
  filter: drop-shadow(0 2px 14px rgba(0,0,0,.35));

  animation: textReveal 6.5s ease-in-out infinite, textShimmer 2.8s linear infinite;
}

@keyframes textReveal{
  0%   { opacity:.18; -webkit-mask-position: 0% 0%, 0% 0%;  mask-position: 0% 0%, 0% 0%; }
  45%  { opacity:1;   -webkit-mask-position: 100% 0%, 0% 100%; mask-position: 100% 0%, 0% 100%; }
  70%  { opacity:.85; -webkit-mask-position: 120% 0%, 0% 120%; mask-position: 120% 0%, 0% 120%; }
  100% { opacity:.30; -webkit-mask-position: 0% 0%, 0% 0%;  mask-position: 0% 0%, 0% 0%; }
}

@keyframes textShimmer{
  0%   { background-position: 0% 0%; }
  100% { background-position: 200% 0%; }
}

/* 네비 아래 빈공간 방지: 배너/헤더 주변 여백이 있으면 제거 */
header, .header, .topbar{
  margin-bottom:0 !important;
}

/* 모바일 */
@media (max-width:768px){
  .main-banner{ height:110px; }
  .banner-text{
    font-size:22px;
    letter-spacing:6px;
    text-shadow:
      0 1px 0 rgba(0,0,0,.45),
      0 8px 20px rgba(0,0,0,.45);
  }
}

/* === NAV DROPDOWN: 가로 1줄(줄바꿈 제거) === */
#main-nav.nav .submenu{
  display:flex !important;
  flex-direction:row !important;
  flex-wrap:nowrap !important;          /* ✅ 자동 줄맞춤(랩) 제거 */
  gap:6px 10px;
  width:auto !important;
  padding:10px 12px !important;
  overflow-x:auto;                      /* ✅ 항목이 많으면 가로 스크롤 */
  overflow-y:hidden !important;
  max-width:min(92vw, 980px);
  -webkit-overflow-scrolling:touch;
  white-space:nowrap !important;        /* 텍스트 줄바꿈 금지 */
}

/* ✅ 세로로 보이게 만드는 기본 CSS(폭 100%)를 강제 해제 */
#main-nav.nav .submenu li{
  flex:0 0 auto !important;
  display:flex !important;
  align-items:center;
}

#main-nav.nav .submenu li a{
  width:auto !important;                /* 기본 CSS의 width:100% 제거 */
  display:inline-flex !important;
  white-space:nowrap !important;
  justify-content:center !important;
}

/* 스크롤바 최소 */
#main-nav.nav .submenu::-webkit-scrollbar{ height:6px; }
#main-nav.nav .submenu::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.18);
  border-radius: 999px;
}



/* === FIX: 드롭다운 '각 상위메뉴 기준' 정렬 + 가림(레이어) 문제 해결 === */
/* nav바에 z-index 적용되도록 position 지정 + overflow 보장 */
.main-nav-bar{
  position: relative;
  z-index: 20000;
  overflow: visible;
}
#main-nav.nav{
  position: relative;
  z-index: 20001;
  overflow: visible;
}

/* ✅ 각 상위 메뉴(li)를 기준점으로: 해당 메뉴 아래에 드롭다운이 붙도록 */
#main-nav.nav > li{
  position: relative !important;
}

/* ✅ 드롭다운 패널: 해당 메뉴 기준 중앙 정렬 (클릭 접근성 ↑) */
#main-nav.nav > li > .submenu{
  position: absolute !important;
  left: 50% !important;
  right: auto !important;
  transform: translateX(-50%) translateY(6px) !important;
  z-index: 20010 !important;

  /* 화면 밖으로 너무 튀지 않게 */
  max-width: min(92vw, 980px);
}

/* open/hover 상태에서도 정렬 유지 (기본 CSS transform 덮기) */
#main-nav.nav li.has-sub.is-open > .submenu,
#main-nav.nav li.has-sub.hovering > .submenu{
  left: 50% !important;
  transform: translateX(-50%) translateY(0) !important;
  z-index: 20010 !important;
}

/* 패널 안 가로 정렬은 그대로 유지 */
#main-nav.nav .submenu{
  justify-content: center !important;
  align-items: center !important;
}

/* 홈 '소식' 박스가 드롭다운을 덮지 않게 레이어 우선순위 조정 */
.home-section, .home, .home-wrap, .home-list, .home-grid, .news, .news-box{
  position: relative;
  z-index: 0 !important;
}

/* (배너는 메뉴 위에 있지만, 레이어는 메뉴가 더 위여도 문제 없음) */
.main-banner{ position: relative; z-index: 10; }

/* (혹시 상위 컨테이너가 overflow로 드롭다운을 자르면) 강제 해제 */
header, .site-header, .header, .topbar, .page-header{
  overflow: visible !important;
}

/* ✅ 혹시 본문(소식 박스 포함)에 transform/필터가 걸려 새로운 스태킹 컨텍스트가 생겨도 가림 방지 */
main, .main, .content, .container, .wrap, .page, .page-wrap{
  position: relative;
  z-index: 0;
  overflow: visible;
}
